<?xml version='1.0' encoding="UTF-8" ?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:p="http://primefaces.org/ui"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
			
	<p:dataTable id="tabelaNegociacoes" var="proposta" 
			value="#{valueTabela}" rows="20"
            paginator="true"
            paginatorTemplate="{PageLinks}">
                 
        <f:facet name="header"> SUAS NEGOCIAÇÕES </f:facet>
                  
		<p:column headerText="DATA DA PROPOSTA">
			<h:outputText value="#{proposta.dataDaProposta}">
				<f:convertDateTime pattern="dd/MM/yyyy"/>
			</h:outputText>
		</p:column>
		<p:column headerText="#{nomeColunaTipoUsuario != null ? nomeColunaTipoUsuario : '#'}">
			<p:outputLabel value="#{proposta.contratante.nome}" />		
		</p:column>
		<p:column headerText="STATUS">
			<p:outputLabel value="#{proposta.status == 'EM_ANDAMENTO' ? 'Em andamento' : 
					(proposta.status == 'CANCELADA' ? 'Cancelada' : 'Concluída')}"/> 			
		</p:column>
		<p:column headerText="DETALHES">
			<p:commandButton icon="ui-icon-search" title="Detalhes da negociação"
					actionListener="#{negociacoesAstBean.assistente != null ? negociacoesAstBean.verDetalhesProposta(proposta.id) : 'null'}">
			</p:commandButton>
		</p:column>
	</p:dataTable>
			
</ui:composition>
