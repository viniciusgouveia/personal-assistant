<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:p="http://primefaces.org/ui"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:o="http://omnifaces.org/ui">

	<f:metadata>
		<o:viewParam name="id" value="#{propostaAstBean.proposta}" converter="conversorProposta" />
		<f:event listener="#{propostaAstBean.preRenderView}" type="preRenderView" />
	</f:metadata>	
	
	<ui:composition template="index.xhtml">
			
		<ui:define name="titulo">
			<p:outputLabel class="titulo" value="PROPOSTA"/>
		</ui:define>
		
		<ui:define name="conteudo">
			
			<div class="ui-g">
				
				<div class="ui-g-12">
					<div class="ui-g-12">
						<ui:include src="/WEB-INF/templates/_painelProposta.xhtml">
							<ui:param name="tipoUsuario" value="CONTRATANTE" />
							<ui:param name="nomeUsuario" value="#{propostaAstBean.proposta.contratante.nome}" />
							<ui:param name="reputacaoUsuario" value="#{propostaAstBean.proposta.contratante.reputacao}" />
							<ui:param name="tipoPagamento" value="#{propostaAstBean.proposta.tipoPagamento == 'PRECO_FIXO' ? 'PreÃ§o fixo' : 'Hora trabalhada'}" />
							<ui:param name="valorProposta" value="#{propostaAstBean.proposta.preco}" />
							<ui:param name="dataInicio" value="#{propostaAstBean.proposta.dataRealizacaoServico.dataRealizacaoInicial}" />
							<ui:param name="dataFinal" value="#{propostaAstBean.proposta.dataRealizacaoServico.dataRealizacaoLimite}" />
							<ui:param name="comentario" value="#{propostaAstBean.proposta.comentario}"/>
							
							<ui:param name="renderizarEndereco" value="#{propostaAstBean.proposta.endereco != null}"/>
							<ui:param name="rua" value="#{propostaAstBean.proposta.endereco.rua != null ? 
									propostaAstBean.proposta.endereco.rua : '#'}"/>
							<ui:param name="numero" value="#{propostaAstBean.proposta.endereco.numero != null ? 
									propostaAstBean.proposta.endereco.numero : '#'}"/>
							<ui:param name="cep" value="#{propostaAstBean.proposta.endereco.cep != null ? 
									propostaAstBean.proposta.endereco.cep : '#'}" />
							<ui:param name="bairro" value="#{propostaAstBean.proposta.endereco.bairro != null ? 
									propostaAstBean.proposta.endereco.bairro : '#'}"/>
							<ui:param name="referencia" value="#{propostaAstBean.proposta.endereco.referencia != null ? 
									propostaAstBean.proposta.endereco.referencia : '#'}"/>
							<ui:param name="estado" value="#{propostaAstBean.proposta.endereco.estado != null ? 
									propostaAstBean.proposta.endereco.estado : '#'}" />
							<ui:param name="cidade" value="#{propostaAstBean.proposta.endereco.cidade != null ? 
									propostaAstBean.proposta.endereco.cidade : '#'}" />
						</ui:include>
					</div>
	
				</div>
			</div>
		</ui:define>			
	</ui:composition>

</html>